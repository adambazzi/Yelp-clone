{"ast":null,"code":"var _jsxFileName = \"/Users/adambazzi/Desktop/Yelp-clone/react-app/src/components/AllBusinessPage/index.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getBusinesses, loadFiltered } from '../../store/business';\nimport { useSearchParams } from '../../context/SearchParamsContext';\nimport BusinessTile from './BusinessTile';\nimport BusinessesMap from './BusinessesMap';\n// import FilterForm from './FilterForm'\nimport './index.css';\nimport filterResults from '../../utils/searchAndFilters';\nimport FilterSearch from '../FilterSearch';\nimport NewBusinessTile from './NewBusinessTile';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AllBusinessPage = () => {\n  _s();\n  const {\n    searchParams,\n    setSearchParams\n  } = useSearchParams();\n  const dispatch = useDispatch();\n  const businesses = useSelector(state => state.business.all_businesses);\n  const filteredBusinesses = useSelector(state => state.business.filtered_businesses);\n  const [businessList, setBusinessList] = useState([]);\n  useEffect(() => {\n    dispatch(getBusinesses());\n  }, [dispatch]);\n  useEffect(() => {\n    if (searchParams.filters && businesses) {\n      setBusinessList(filterResults(Object.values(businesses), searchParams.search, searchParams.query));\n    } else {\n      dispatch(loadFiltered(Object.values(businesses)));\n    }\n  }, [searchParams]);\n  useEffect(() => {\n    dispatch(loadFiltered(businessList));\n  }, [businessList]);\n  if (!businesses || !filteredBusinesses) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"business-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"business-filter\",\n      children: /*#__PURE__*/_jsxDEV(FilterSearch, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"business-gallery\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"business-tiles\",\n        children: searchParams.filters && filteredBusinesses ? Object.values(filteredBusinesses).map(business => /*#__PURE__*/_jsxDEV(NewBusinessTile, {\n          business: business\n        }, business.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 106\n        }, this)) : Object.values(businesses).map(business => /*#__PURE__*/_jsxDEV(NewBusinessTile, {\n          business: business\n        }, business.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 206\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"business-map\",\n      children: /*#__PURE__*/_jsxDEV(BusinessesMap, {\n        businesses: searchParams.filters ? Object.values(filteredBusinesses) : Object.values(businesses)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(AllBusinessPage, \"QqPzjY+WdpL58UoZB76TpKZdWbg=\", false, function () {\n  return [useSearchParams, useDispatch, useSelector, useSelector];\n});\n_c = AllBusinessPage;\nexport default AllBusinessPage;\nvar _c;\n$RefreshReg$(_c, \"AllBusinessPage\");","map":{"version":3,"names":["useEffect","useState","useSelector","useDispatch","getBusinesses","loadFiltered","useSearchParams","BusinessTile","BusinessesMap","filterResults","FilterSearch","NewBusinessTile","AllBusinessPage","searchParams","setSearchParams","dispatch","businesses","state","business","all_businesses","filteredBusinesses","filtered_businesses","businessList","setBusinessList","filters","Object","values","search","query","map","id"],"sources":["/Users/adambazzi/Desktop/Yelp-clone/react-app/src/components/AllBusinessPage/index.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getBusinesses, loadFiltered } from '../../store/business'\nimport { useSearchParams } from '../../context/SearchParamsContext';\nimport BusinessTile from './BusinessTile'\nimport BusinessesMap from './BusinessesMap'\n// import FilterForm from './FilterForm'\nimport './index.css'\nimport filterResults from '../../utils/searchAndFilters';\nimport FilterSearch from '../FilterSearch';\nimport NewBusinessTile from './NewBusinessTile';\n\nconst AllBusinessPage = () => {\n  const {searchParams, setSearchParams} = useSearchParams();\n  const dispatch = useDispatch();\n  const businesses = useSelector(state => state.business.all_businesses);\n  const filteredBusinesses = useSelector(state => state.business.filtered_businesses);\n  const [businessList,setBusinessList] = useState([])\n\n  useEffect(() => {\n    dispatch(getBusinesses());\n  }, [dispatch]);\n\n  useEffect(()=>{\n    if(searchParams.filters && businesses){\n      setBusinessList( filterResults(Object.values(businesses),searchParams.search,searchParams.query))\n    } else{\n      dispatch(loadFiltered(Object.values(businesses)))\n    }\n  },[searchParams])\n\n  useEffect(()=>{\n    dispatch(loadFiltered(businessList))\n  },[businessList])\n\n  if (!businesses || !filteredBusinesses) return null\n\n  return (\n    <div id='business-container'>\n      <section id='business-filter'>\n        <FilterSearch />\n      </section>\n      <section id='business-gallery'>\n          <div id='business-tiles'>\n          {searchParams.filters && filteredBusinesses? Object.values(filteredBusinesses).map(business => <NewBusinessTile business={business} key={business.id}/>):Object.values(businesses).map(business => <NewBusinessTile business={business} key={business.id}/>)}\n          </div>\n      </section>\n      <section id='business-map'>\n          <BusinessesMap businesses={searchParams.filters? Object.values(filteredBusinesses):Object.values(businesses) } />\n          {/* <BusinessesMap businesses={Object.values(businesses)} /> */}\n      </section>\n    </div>\n  )\n};\n\nexport default AllBusinessPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}