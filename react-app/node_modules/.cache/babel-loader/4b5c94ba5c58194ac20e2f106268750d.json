{"ast":null,"code":"var _jsxFileName = \"/Users/adambazzi/Desktop/Yelp-clone/react-app/src/components/SingleBusinessPage/DisplayReviews.js\",\n  _s = $RefreshSig$();\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport { getReviews } from '../../store/review';\nimport './DisplayReviews.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DisplayReviews = _ref => {\n  _s();\n  let {\n    businessId\n  } = _ref;\n  const dispatch = useDispatch();\n  const reviews = useSelector(state => state.reviews);\n  const user = useSelector(state => state.session.user);\n  useEffect(() => {\n    dispatch(getReviews(businessId));\n  }, [dispatch, businessId]);\n\n  // if (!reviews || !user) {\n  //     return <li>Be the first to post a review!</li>;\n  // }\n\n  const dateFormat = date => {\n    const dateArray = date.split('-');\n    return `${dateArray[0]}-${dateArray[1]}-${dateArray[2].slice(0, 2)}`;\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: reviews.length > 0 && reviews[0].User.firstName && reviews.map(review => /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"business-review\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: review.User.firstName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"business-review-date\",\n        children: dateFormat(review.createdAt)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"business-review-review\",\n        children: review.review\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 21\n      }, this), user.id === review.userId && /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"DELETE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 25\n      }, this)]\n    }, review.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 17\n    }, this))\n  }, void 0, false);\n};\n_s(DisplayReviews, \"R6+HgsFfnHMPNScpHLOcdtDc7Lg=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = DisplayReviews;\nexport default DisplayReviews;\nvar _c;\n$RefreshReg$(_c, \"DisplayReviews\");","map":{"version":3,"names":["useDispatch","useSelector","useEffect","getReviews","DisplayReviews","businessId","dispatch","reviews","state","user","session","dateFormat","date","dateArray","split","slice","length","User","firstName","map","review","createdAt","id","userId"],"sources":["/Users/adambazzi/Desktop/Yelp-clone/react-app/src/components/SingleBusinessPage/DisplayReviews.js"],"sourcesContent":["import { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport { getReviews } from '../../store/review';\nimport './DisplayReviews.css';\n\nconst DisplayReviews = ({ businessId }) => {\n    const dispatch = useDispatch();\n    const reviews = useSelector(state => state.reviews);\n    const user = useSelector(state => state.session.user);\n\n    useEffect(() => {\n        dispatch(getReviews(businessId));\n    }, [dispatch, businessId]);\n\n    // if (!reviews || !user) {\n    //     return <li>Be the first to post a review!</li>;\n    // }\n\n    const dateFormat = (date) => {\n        const dateArray = date.split('-');\n        return `${dateArray[0]}-${dateArray[1]}-${dateArray[2].slice(0,2)}`;\n    }\n\n    return (\n        <>\n            {reviews.length > 0 && reviews[0].User.firstName && reviews.map(review => (\n                <li key={review.id} className='business-review'>\n                    <h4>{review.User.firstName}</h4>\n                    <div className=\"business-review-date\">{dateFormat(review.createdAt)}</div>\n                    <div className=\"business-review-review\">{review.review}</div>\n                    {user.id === review.userId && (\n                        <button>DELETE</button>\n                    )}\n                </li>\n            ))}\n        </>\n    );\n}\n\nexport default DisplayReviews;\n"],"mappings":";;AAAA,SAASA,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,UAAU,QAAQ,oBAAoB;AAC/C,OAAO,sBAAsB;AAAC;AAAA;AAE9B,MAAMC,cAAc,GAAG,QAAoB;EAAA;EAAA,IAAnB;IAAEC;EAAW,CAAC;EAClC,MAAMC,QAAQ,GAAGN,WAAW,EAAE;EAC9B,MAAMO,OAAO,GAAGN,WAAW,CAACO,KAAK,IAAIA,KAAK,CAACD,OAAO,CAAC;EACnD,MAAME,IAAI,GAAGR,WAAW,CAACO,KAAK,IAAIA,KAAK,CAACE,OAAO,CAACD,IAAI,CAAC;EAErDP,SAAS,CAAC,MAAM;IACZI,QAAQ,CAACH,UAAU,CAACE,UAAU,CAAC,CAAC;EACpC,CAAC,EAAE,CAACC,QAAQ,EAAED,UAAU,CAAC,CAAC;;EAE1B;EACA;EACA;;EAEA,MAAMM,UAAU,GAAIC,IAAI,IAAK;IACzB,MAAMC,SAAS,GAAGD,IAAI,CAACE,KAAK,CAAC,GAAG,CAAC;IACjC,OAAQ,GAAED,SAAS,CAAC,CAAC,CAAE,IAAGA,SAAS,CAAC,CAAC,CAAE,IAAGA,SAAS,CAAC,CAAC,CAAC,CAACE,KAAK,CAAC,CAAC,EAAC,CAAC,CAAE,EAAC;EACvE,CAAC;EAED,oBACI;IAAA,UACKR,OAAO,CAACS,MAAM,GAAG,CAAC,IAAIT,OAAO,CAAC,CAAC,CAAC,CAACU,IAAI,CAACC,SAAS,IAAIX,OAAO,CAACY,GAAG,CAACC,MAAM,iBAClE;MAAoB,SAAS,EAAC,iBAAiB;MAAA,wBAC3C;QAAA,UAAKA,MAAM,CAACH,IAAI,CAACC;MAAS;QAAA;QAAA;QAAA;MAAA,QAAM,eAChC;QAAK,SAAS,EAAC,sBAAsB;QAAA,UAAEP,UAAU,CAACS,MAAM,CAACC,SAAS;MAAC;QAAA;QAAA;QAAA;MAAA,QAAO,eAC1E;QAAK,SAAS,EAAC,wBAAwB;QAAA,UAAED,MAAM,CAACA;MAAM;QAAA;QAAA;QAAA;MAAA,QAAO,EAC5DX,IAAI,CAACa,EAAE,KAAKF,MAAM,CAACG,MAAM,iBACtB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QACH;IAAA,GANIH,MAAM,CAACE,EAAE;MAAA;MAAA;MAAA;IAAA,QAQrB;EAAC,iBACH;AAEX,CAAC;AAAA,GAhCKlB,cAAc;EAAA,QACCJ,WAAW,EACZC,WAAW,EACdA,WAAW;AAAA;AAAA,KAHtBG,cAAc;AAkCpB,eAAeA,cAAc;AAAC;AAAA"},"metadata":{},"sourceType":"module"}